
```TrainerCallback``` 是所有训练回调类的抽象基类，它定义了训练全生命周期的关键钩子（hook）方法，你可以通过继承它并重写这些方法，在不修改 Trainer 核心逻辑的前提下，实现日志增强、早停、显存监控、模型导出等自定义行为。



## 方法

### ```on_train_begin```

训练启动前（仅 1 次）	初始化资源（如日志文件、监控工具）、校验参数、打印训练配置


### ```on_train_end```

训练结束后（仅 1 次）	清理资源、导出最终模型、生成训练报告、发送通知（邮件 / 钉钉）


### ```on_epoch_begin```

触发时机：每个 epoch 开始时

核心作用：重置 epoch 级指标（如 epoch 损失）、数据增强策略切换

### ```on_epoch_end```

触发时机：每个 epoch 结束时	

核心作用：计算 epoch 级指标、保存 epoch 结果、调整学习率（自定义调度）

### ```on_step_begin```

触发时机：每个训练 step 开始时

核心作用：记录 step 开始时间、监控显存初始状态

### ````on_step_end```

触发时机：每个训练 step 结束时

核心作用：打印 step 级日志（显存 / 速度）、校验梯度、触发早停检查

### ```on_evaluate```

触发时机：评估开始前

核心作用：准备评估数据、修改评估参数

### ```on_evaluate_end```

触发时机：评估结束后	

核心作用：解析评估指标、判断是否触发早停、记录最优指标

### ```on_save```	

触发时机：模型保存前	

核心作用：预处理模型权重、记录保存时间

### ```on_save_end```	

出发时机：模型保存后

核心作用：验证 checkpoint 完整性、删除旧 checkpoint

### ```on_log```

触发时机：日志记录时	

核心作用：增强日志内容（如添加显存、速度）、同步到第三方平台
